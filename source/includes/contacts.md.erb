
# Contacts

## Contact Object
Represents a contact object. This is analogous to leads/subscribers/profiles/people in other platforms.

```json
{
  "id": "ct_hws9idjxuiiui6r",
  "name": "",
  "email": "jane@example.com",
  "phone": "",
  "email_status": "ACTIVE",
  "email_suppressed_reason": "",
  "created_timestamp": 1592455503,
  "suppressed_timestamp": null,
  "lists": [{
    "id": "ctlist_2akm39pe38ye896",
    "name": "Newsletter Subscribers"
  }],
  "tags": [{
    "id": "cttag_j53r8tp7ds1eet8",
    "name": "Customer",
  }, {
    "id": "cttag_gfrg434vgwgset8",
    "name": "High Value",
  }],
  "properties": [{
    "type": "total_spent",
    "value": 35.0
  }]
}
```

### Attributes
Field | Type | Description
--------- | ------- | -----------
id | string | Unique identifier for the object.
name | string | Name of contact.
phone | string | Phone for contact.
email_status | enum ([Contact Email Status](#contacts-enums-contact-email-status)) | Email status for this contact.
email_suppressed_reason | enum ([Contact Email Suppressed Reason](#contacts-enums-contact-email-suppressed-reason)) | Email suppressed reason for contact. This will only be set if email status is `SUPPRESSED`.
created_timestamp | integer | Timestamp when contact was added to our system.
suppressed_timestamp | integer | Timestamp when contact was suppressed. This will only be set if email status is `SUPPRESSED`.
lists[] | object array ([Contact List Object](#contacts-contact-list-object)) | Array of lists assigned to contact.
tags[] | object array ([Contact Tag Object](#contacts-contact-tag-object)) | List of tags assigned to contact.
properties[] | object array ([Contact Property Object](#contacts-contact-property-object)) | List of contact properties.


## Contact List Object
Represents a contact list object.

```json
{
  "id": "ctlist_2akm39pe38ye896",
  "name": "Newsletter Subscribers"
}
```

### Attributes
Field | Type | Description
--------- | ------- | -----------
id | string | Unique identifier for the object.
name | string | Name of contact list.


## Contact Tag Object
Represents a contact tag object.

```json
{
  "id": "cttag_j53r8tp7ds1eet8",
  "name": "Customer"
}
```

### Attributes
Field | Type | Description
--------- | ------- | -----------
id | string | Unique identifier for the object.
name | string | Name of contact tag.


## Contact Property Object
Keep in mind that most predefined contact properties are readonly. For example, `total_spent` is automatically generated by our system and can't be modified. All custom contact properties are editable.

```json
{
  "type": "total_spent",
  "value": 35.0
}
```

### Attributes
Field | Type | Description
--------- | ------- | -----------
type | string | Key for contact's property type.
value | string | Value for contact's property.


## Enums
List of available enum types under this resource.

### Contact Email Status
Value | Description
--------- | -------
ACTIVE | Active
SUPPRESSED | Suppressed

### Contact Email Suppressed Reason
Value | Description
--------- | -------
BOUNCED | Bounced
MARKED_EMAIL_AS_SPAM | Marked Email as Spam
UNSUBSCRIBED | Unsubscribed
UNENGAGED | Unengaged
NOT_SPECIFIED | Not Specified


## Retrieve Contact

> Example Request

```shell
curl https://api.onvoard.com/v1/contacts/ct_hws9idjxuiiui6r \
-H 'X-API-Key: {API_KEY}'
```

> Example Response

```json
{
  "id": "ct_hws9idjxuiiui6r",
  "name": "",
  "email": "jane@example.com",
  "phone": "",
  "email_status": "ACTIVE",
  "email_suppressed_reason": "",
  "created_timestamp": 1592455503,
  "suppressed_timestamp": null,
  "lists": [{
    "id": "ctlist_2akm39pe38ye896",
    "name": "Newsletter Subscribers"
  }],
  "tags": [{
    "id": "cttag_j53r8tp7ds1eet8",
    "name": "Customer",
  }, {
    "id": "cttag_gfrg434vgwgset8",
    "name": "High Value",
  }],
  "properties": [{
    "type": "total_spent",
    "value": 35.0
  }]
}
```

Retrieve contact with given ID.

### HTTP Request
`GET https://api.onvoard.com/v1/contacts/:contact_id`

### Returns
Contact object if valid ID was provided.


## Create Contact

> Example Request

```shell
curl https://api.onvoard.com/v1/contacts \
-X POST \
-H 'X-API-Key: {API_KEY}' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
-d '{
  "account": "acct_u4o2a8hmqk5rzp9",
  "email": "jane@example.com",
  "lists": ["ctlist_2akm39pe38ye896"],
  "tags": ["Customer"],
  "properties": [{
    "type": "country",
    "value": "US"
  }]
}'
```

> Example Response

```json
{
  "id": "ct_ec8bgtuwlnua4s8",
  "name": "",
  "email": "jane@example.com",
  "phone": "",
  "email_status": "ACTIVE",
  "email_suppressed_reason": "",
  "created_timestamp": 1593585808,
  "suppressed_timestamp": null,
  "lists": [{
    "id": "ctlist_2akm39pe38ye896",
    "name": "EasyStore"
  }],
  "tags": [{
    "id": "cttag_6jqv086nioo51b5",
    "name": "Customer"
  }],
  "properties": [{
    "type": "country",
    "value": "US"
  }]
}
```

Create a new contact.

### HTTP Request
`POST https://api.onvoard.com/v1/contacts`

### Returns
Created contact object if create succeeded.

### Arguments
Field | Type | Required | Description
--------- | ------- | ----------- | -----------
account | string | Yes | ID of account that contact will be added to.
email | string | Yes | Email of contact. Must be unique within account.
name | string | No | Name of contact.
phone | string | No | Phone for contact.
email_status | enum ([Contact Email Status](#contacts-enums-contact-email-status)) | No | Email status for this contact.
email_suppressed_reason | enum ([Contact Email Suppressed Reason](#contacts-enums-contact-email-suppressed-reason)) | No | Email suppressed reason for contact.
lists[] | string array | No | Array of list IDs to assign contact.
tags[] | string array | No | List of tag names to assign contact. For example: `["tag-1", "tag-2"]`. Our system will automatically create new tag if name doesn't exist.
properties[] | object array ([Contact Property Object](#contacts-contact-property-object)) | No | List of contact properties.


## Patch Contact

> Example Request

```shell
curl https://api.onvoard.com/v1/contacts/ct_hws9idjxuiiui6r \
-X PATCH \
-H 'X-API-Key: {API_KEY}' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
-d '{
  "email_status": "SUPPRESSED",
  "email_suppressed_reason": "UNENGAGED"
}'
```

> Example Response

```json
{
  "id": "ct_hws9idjxuiiui6r",
  "name": "",
  "email": "jane@example.com",
  "phone": "",
  "email_status": "SUPPRESSED",
  "email_suppressed_reason": "UNENGAGED",
  "created_timestamp": 1592455503,
  "suppressed_timestamp": null,
  "lists": [],
  "tags": [],
  "properties": []
}
```

Patch contact with given ID.

### HTTP Request
`PATCH https://api.onvoard.com/v1/contacts/:contact_id`

### Returns
Modified contact object if patch succeeded.

### Arguments
Field | Type | Required | Description
--------- | ------- | ----------- | -----------
email | string | No | Email of contact. Must be unique within account.
name | string | No | Name of contact.
phone | string | No | Phone for contact.
email_status | enum ([Contact Email Status](#contacts-enums-contact-email-status)) | No | Email status for this contact.
email_suppressed_reason | enum ([Contact Email Suppressed Reason](#contacts-enums-contact-email-suppressed-reason)) | No | Email suppressed reason for contact.
lists[] | string array | No | Array of list IDs to assign contact.
tags[] | string array | No | List of tag names to assign contact. For example: `["tag-1", "tag-2"]`. Our system will automatically create new tag if name doesn't exist.
properties[] | object array ([Contact Property Object](#contacts-contact-property-object)) | No | List of contact properties.


## Delete Contact

> Example Request

```shell
curl https://api.onvoard.com/v1/contacts/ct_hws9idjxuiiui6r \
-X DELETE \
-H 'X-API-Key: {API_KEY}'
```

> Example Response

```json
{}
```

Delete contact with given ID.

### HTTP Request
`DELETE https://api.onvoard.com/v1/contacts/:contact_id`


## List all Contacts


> Example Request

```shell
curl https://api.onvoard.com/v1/contacts \
-H 'X-API-Key: {API_KEY}'
```

> Example Response

```json
{
  "num_records": 1,
  "num_pages": 1,
  "current_page": 1,
  "results": [{
    "id": "ct_hws9idjxuiiui6r",
    "name": "",
    "email": "jane@example.com",
    "phone": "",
    "email_status": "ACTIVE",
    "email_suppressed_reason": "",
    "created_timestamp": 1592455503,
    "suppressed_timestamp": null,
    "lists": [],
    "tags": [],
    "properties": []
  }]
}
```

List all contacts user have access to. Records are sorted by `created_timestamp`, starting from most recent contacts.

### HTTP Request
`GET https://api.onvoard.com/v1/contacts`

### Returns
List of contact objects.

### Arguments
Field | Type | Description
--------- | ------- | -----------
account | string | Account ID to filter. Used when organization manage more than one account.
keyword | string | Filter by specific keyword.
email_status | enum ([Contact Email Status](#contacts-enums-contact-email-status)) | Filter by email status.
email_suppressed_reason | enum ([Contact Email Suppressed Reason](#contacts-enums-contact-email-suppressed-reason)) | Filter by email suppressed reason.
lists | string | Comma-seperated list of Contact List IDs to filter with. Use this to retrieve contacts from specific lists.
tags | string | Comma-seperated list of Contact Tag IDs to filter with. Use this to retrieve contacts from specific tags.
segments | string | Comma-seperated list of Contact Segment IDs to filter with. Use this to retrieve contacts from specific segments.
created_before | integer | Filter contacts created before provided timestamp.
created_after | integer | Filter contacts created after provided timestamp.
page | integer | Traverse to specific page. Page index starts from `1`.
page_size | integer | Number of records you want to return for each page. Can be from `1` to `100`. Default is `10`.
