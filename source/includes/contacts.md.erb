
# Contacts

## Contact Object
Represents a contact object. This is analogous to leads/subscribers/profiles/people in other platforms.

```json
{
  "id": "ct_hws9idjxuiiui6r",
  "name": "",
  "email": "jane@example.com",
  "phone": "",
  "suppressed": false,
  "email_sendable": true,
  "email_unsubscribed": false,
  "email_marked_as_spam": false,
  "email_hard_bounced": false,
  "email_soft_bounced_count": 0,
  "created_timestamp": 1592455503,
  "suppressed_timestamp": null,
  "lists": [{
    "id": "ctlist_2akm39pe38ye896",
    "name": "Newsletter Subscribers"
  }],
  "tags": [{
    "id": "cttag_j53r8tp7ds1eet8",
    "name": "Customer",
  }, {
    "id": "cttag_gfrg434vgwgset8",
    "name": "High Value",
  }],
  "properties": [{
    "type": "total_spent",
    "value": 35.0
  }]
}
```

### Attributes
Field | Type | Description
--------- | ------- | -----------
id | string | Unique identifier for the object.
name | string | Name of contact.
phone | string | Phone for contact.
suppressed | boolean | If contact is suppressed. Suppressed contacts won't receive any message from you via OnVoard and will not be tracked.
email_sendable | boolean | If true, OnVoard will be able to send emails to this contact. Will be false if any of `suppressed`, `email_unsubscribed`, `email_marked_as_spam`, or `email_hard_bounced` is true.
email_unsubscribed | boolean | If contact has unsubscribed from your emails.
email_marked_as_spam | boolean | If contact has marked your email as spam. If true, OnVoard will no longer attempt to send any emails to this contact.
email_hard_bounced | boolean | If previous emails sent to contact returns hard bounce error. If true, OnVoard will no longer attempt to send any emails to this contact.
email_soft_bounced_count | integer | Number of soft bounces without any successful email delivery.
created_timestamp | integer | Timestamp when contact was added to our system.
suppressed_timestamp | integer | Timestamp when contact was suppressed. This will only be set if contact is suppressed.
lists[] | object array ([Contact List Object](#contacts-contact-list-object)) | Array of lists assigned to contact.
tags[] | object array ([Contact Tag Object](#contacts-contact-tag-object)) | List of tags assigned to contact.
properties[] | object array ([Contact Property Object](#contacts-contact-property-object)) | List of contact properties.


## Contact List Object
Represents a contact list object.

```json
{
  "id": "ctlist_2akm39pe38ye896",
  "name": "Newsletter Subscribers"
}
```

### Attributes
Field | Type | Description
--------- | ------- | -----------
id | string | Unique identifier for the object.
name | string | Name of contact list.


## Contact Tag Object
Represents a contact tag object.

```json
{
  "id": "cttag_j53r8tp7ds1eet8",
  "name": "Customer"
}
```

### Attributes
Field | Type | Description
--------- | ------- | -----------
id | string | Unique identifier for the object.
name | string | Name of contact tag.


## Contact Property Object
Keep in mind that most predefined contact properties are readonly. For example, `total_spent` is automatically generated by our system and can't be modified. All custom contact properties are editable.

```json
{
  "type": "total_spent",
  "value": 35.0
}
```

### Attributes
Field | Type | Description
--------- | ------- | -----------
type | string | Key for contact's property type.
value | string | Value for contact's property.


## Enums
List of available enum types under this resource.


## Retrieve Contact

> Example Request

```shell
curl https://api.onvoard.com/v2/contacts/ct_hws9idjxuiiui6r \
-H 'X-API-Key: {API_KEY}'
```

> Example Response

```json
{
  "id": "ct_hws9idjxuiiui6r",
  "name": "",
  "email": "jane@example.com",
  "phone": "",
  "suppressed": false,
  "email_sendable": true,
  "email_unsubscribed": false,
  "email_marked_as_spam": false,
  "email_hard_bounced": false,
  "email_soft_bounced_count": 0,
  "created_timestamp": 1592455503,
  "suppressed_timestamp": null,
  "lists": [{
    "id": "ctlist_2akm39pe38ye896",
    "name": "Newsletter Subscribers"
  }],
  "tags": [{
    "id": "cttag_j53r8tp7ds1eet8",
    "name": "Customer",
  }, {
    "id": "cttag_gfrg434vgwgset8",
    "name": "High Value",
  }],
  "properties": [{
    "type": "total_spent",
    "value": 35.0
  }]
}
```

Retrieve contact with given ID.

### HTTP Request
`GET https://api.onvoard.com/v2/contacts/:contact_id`

### Returns
Contact object if valid ID was provided.


## Create Contact

> Example Request

```shell
curl https://api.onvoard.com/v2/contacts \
-X POST \
-H 'X-API-Key: {API_KEY}' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
-d '{
  "account": "acct_u4o2a8hmqk5rzp9",
  "email": "jane@example.com",
  "lists": ["ctlist_2akm39pe38ye896"],
  "tags": ["Customer"],
  "properties": [{
    "type": "country",
    "value": "US"
  }]
}'
```

> Example Response

```json
{
  "id": "ct_ec8bgtuwlnua4s8",
  "name": "",
  "email": "jane@example.com",
  "phone": "",
  "suppressed": false,
  "email_sendable": true,
  "email_unsubscribed": false,
  "email_marked_as_spam": false,
  "email_hard_bounced": false,
  "email_soft_bounced_count": 0,
  "created_timestamp": 1593585808,
  "suppressed_timestamp": null,
  "lists": [{
    "id": "ctlist_2akm39pe38ye896",
    "name": "EasyStore"
  }],
  "tags": [{
    "id": "cttag_6jqv086nioo51b5",
    "name": "Customer"
  }],
  "properties": [{
    "type": "country",
    "value": "US"
  }]
}
```

Create a new contact.

### HTTP Request
`POST https://api.onvoard.com/v2/contacts`

### Returns
Created contact object if create succeeded.

### Arguments
Field | Type | Required | Description
--------- | ------- | ----------- | -----------
account | string | Yes | ID of account that contact will be added to.
email | string | Yes | Email of contact. Must be unique within account.
name | string | No | Name of contact.
phone | string | No | Phone for contact.
email_unsubscribed | boolean | No | If contact has unsubscribed from your emails. Default value is `false`.
lists[] | string array | No | Array of list IDs to assign contact.
tags[] | string array | No | List of tag names to assign contact. For example: `["tag-1", "tag-2"]`. Our system will automatically create new tag if name doesn't exist.
properties[] | object array ([Contact Property Object](#contacts-contact-property-object)) | No | List of contact properties.


## Patch Contact
Suppressed contact can't be patched. You need to unsuppress a suppressed contact before you can patch.

> Example Request

```shell
curl https://api.onvoard.com/v2/contacts/ct_hws9idjxuiiui6r \
-X PATCH \
-H 'X-API-Key: {API_KEY}' \
-H 'Accept: application/json' \
-H 'Content-Type: application/json' \
-d '{
  "email_unsubscribed": true
}'
```

> Example Response

```json
{
  "id": "ct_hws9idjxuiiui6r",
  "name": "",
  "email": "jane@example.com",
  "phone": "",
  "suppressed": false,
  "email_sendable": false,
  "email_unsubscribed": true,
  "email_marked_as_spam": false,
  "email_hard_bounced": false,
  "email_soft_bounced_count": 0,
  "created_timestamp": 1592455503,
  "suppressed_timestamp": null,
  "lists": [],
  "tags": [],
  "properties": []
}
```

Patch contact with given ID.

### HTTP Request
`PATCH https://api.onvoard.com/v2/contacts/:contact_id`

### Returns
Modified contact object if patch succeeded.

### Arguments
Field | Type | Required | Description
--------- | ------- | ----------- | -----------
email | string | No | Email of contact. Must be unique within account.
name | string | No | Name of contact.
phone | string | No | Phone for contact.
email_unsubscribed | boolean | No | If contact has unsubscribed from your emails.
lists[] | string array | No | Array of list IDs to assign contact.
tags[] | string array | No | List of tag names to assign contact. For example: `["tag-1", "tag-2"]`. Our system will automatically create new tag if name doesn't exist.
properties[] | object array ([Contact Property Object](#contacts-contact-property-object)) | No | List of contact properties.


## Delete Contact
Deleted contacts may still be tracked since they can be added back to the database. Use ***suppress*** if you need to erase contact's personal data and disable tracking permanently. Suppressed contact can't be deleted. You need to unsuppress a suppressed contact before you can delete.

> Example Request

```shell
curl https://api.onvoard.com/v2/contacts/ct_hws9idjxuiiui6r \
-X DELETE \
-H 'X-API-Key: {API_KEY}'
```

> Example Response

```json
{}
```

Delete contact with given ID.

### HTTP Request
`DELETE https://api.onvoard.com/v2/contacts/:contact_id`


## Suppress Contact
Suppressed contacts are users who want to be forgotten by your business. When contact is suppressed, we will ***erase all data associated*** to them. They won't receive any message from you via OnVoard and will not be tracked. You can only unsuppress a suppressed contact. They can't be modified in any other ways and can't be deleted.


> Example Request

```shell
curl https://api.onvoard.com/v2/contacts/ct_hws9idjxuiiui6r/suppress \
-X POST \
-H 'X-API-Key: {API_KEY}'
```

> Example Response

```json
{
  "id": "ct_hws9idjxuiiui6r",
  "name": "",
  "email": "jane@example.com",
  "phone": "",
  "suppressed": true,
  "email_sendable": false,
  "email_unsubscribed": true,
  "email_marked_as_spam": false,
  "email_hard_bounced": false,
  "email_soft_bounced_count": 0,
  "created_timestamp": 1592455503,
  "suppressed_timestamp": null,
  "lists": [],
  "tags": [],
  "properties": []
}
```

Suppress contact with given ID.

### HTTP Request
`POST https://api.onvoard.com/v2/contacts/:contact_id/suppress`

### Returns
Modified contact object if suppress succeeded.


## Unsuppress Contact

> Example Request

```shell
curl https://api.onvoard.com/v2/contacts/ct_hws9idjxuiiui6r/unsuppress \
-X POST \
-H 'X-API-Key: {API_KEY}'
```

> Example Response

```json
{
  "id": "ct_hws9idjxuiiui6r",
  "name": "",
  "email": "jane@example.com",
  "phone": "",
  "suppressed": false,
  "email_sendable": false,
  "email_unsubscribed": true,
  "email_marked_as_spam": false,
  "email_hard_bounced": false,
  "email_soft_bounced_count": 0,
  "created_timestamp": 1592455503,
  "suppressed_timestamp": null,
  "lists": [],
  "tags": [],
  "properties": []
}
```

Unsuppress contact with given ID.

### HTTP Request
`POST https://api.onvoard.com/v2/contacts/:contact_id/unsuppress`

### Returns
Modified contact object if unsuppress succeeded.


## List all Contacts


> Example Request

```shell
curl https://api.onvoard.com/v2/contacts \
-H 'X-API-Key: {API_KEY}'
```

> Example Response

```json
{
  "num_records": 1,
  "num_pages": 1,
  "current_page": 1,
  "results": [{
    "id": "ct_hws9idjxuiiui6r",
    "name": "",
    "email": "jane@example.com",
    "phone": "",
    "suppressed": false,
    "email_sendable": true,
    "email_unsubscribed": false,
    "email_marked_as_spam": false,
    "email_hard_bounced": false,
    "email_soft_bounced_count": 0,
    "created_timestamp": 1592455503,
    "suppressed_timestamp": null,
    "lists": [],
    "tags": [],
    "properties": []
  }]
}
```

List all contacts user have access to. Records are sorted by `created_timestamp`, starting from most recent contacts. To retrieve ***active*** contacts that can receive emails, specify `true` for `email_sendable`.

### HTTP Request
`GET https://api.onvoard.com/v2/contacts`

### Returns
List of contact objects.

### Arguments
Field | Type | Description
--------- | ------- | -----------
account | string | Account ID to filter. Used when organization manage more than one account.
email | string | Filter by email.
keyword | string | Filter by specific keyword.
suppressed | boolean | Use `true` or `false` to filter.
email_sendable | boolean | Use `true` or `false` to filter.
email_unsubscribed | boolean | Use `true` or `false` to filter.
email_marked_as_spam | boolean | Use `true` or `false` to filter.
email_hard_bounced | boolean | Use `true` or `false` to filter.
lists | string | Comma-seperated list of Contact List IDs to filter with. Use this to retrieve contacts from specific lists.
tags | string | Comma-seperated list of Contact Tag IDs to filter with. Use this to retrieve contacts from specific tags.
segments | string | Comma-seperated list of Contact Segment IDs to filter with. Use this to retrieve contacts from specific segments.
created_before | integer | Filter contacts created before provided timestamp.
created_after | integer | Filter contacts created after provided timestamp.
page | integer | Traverse to specific page. Page index starts from `1`.
page_size | integer | Number of records you want to return for each page. Can be from `1` to `100`. Default is `10`.
